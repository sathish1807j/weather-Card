<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather Card</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .weather-card {
            background: linear-gradient(135deg, #72EDF2 0%, #5151E5 100%);
            transition: all 0.3s ease;
        }

        .weather-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }

        .temperature::after {
            content: "°C";
            position: absolute;
            font-size: 2rem;
            margin-top: 0.4rem;
            margin-left: 0.2rem;
        }

        .weather-icon {
            filter: drop-shadow(2px 4px 6px rgba(0,0,0,0.2));
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center p-4">
    <div class="weather-card rounded-2xl text-white p-8 max-w-md w-full shadow-lg">
        <div class="mb-6 relative">
            <input type="text" id="city-input" placeholder="Search city..."
                   class="w-full bg-white bg-opacity-20 rounded-lg py-2 px-4 text-white placeholder-white placeholder-opacity-70 focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-50">
            <button id="search-btn" class="absolute right-2 top-1/2 transform -translate-y-1/2 text-white">
                <i class="fas fa-search"></i>
            </button>
        </div>
        <div class="flex justify-between items-center mb-6">
            <div>
                <h2 class="text-2xl font-bold" id="location">New York, US</h2>
                <p class="opacity-80" id="date">Monday, June 5</p>
            </div>
            <div class="text-right">
                <p class="text-sm opacity-80" id="time">10:30 AM</p>
                <p class="text-sm opacity-80" id="condition">Partly Cloudy</p>
            </div>
        </div>

        <div class="flex items-center justify-between mb-8">
            <div class="flex items-center">
                <div class="temperature text-6xl font-light mr-4 relative" id="temp">24</div>
                <div class="weather-icon text-6xl" id="weather-icon">
                    <i class="fas fa-cloud-sun"></i>
                </div>
            </div>
        </div>

        <div class="grid grid-cols-3 gap-4 text-center">
            <div class="bg-white bg-opacity-20 rounded-lg p-3">
                <i class="fas fa-wind mb-1"></i>
                <p class="text-sm">Wind</p>
                <p class="font-semibold" id="wind">12 km/h</p>
            </div>

            <div class="bg-white bg-opacity-20 rounded-lg p-3">
                <i class="fas fa-tint mb-1"></i>
                <p class="text-sm">Humidity</p>
                <p class="font-semibold" id="humidity">65%</p>
            </div>

            <div class="bg-white bg-opacity-20 rounded-lg p-3">
                <i class="fas fa-compress-alt mb-1"></i>
                <p class="text-sm">Pressure</p>
                <p class="font-semibold" id="pressure">1012 hPa</p>
            </div>
        </div>

        <div class="mt-6 pt-4 border-t border-white border-opacity-20">
            <div class="flex justify-between text-sm">
                <div class="text-center">
                    <p>Mon</p>
                    <i class="fas fa-sun text-xl my-2"></i>
                    <p>26°</p>
                </div>
                <div class="text-center">
                    <p>Tue</p>
                    <i class="fas fa-cloud-sun text-xl my-2"></i>
                    <p>24°</p>
                </div>
                <div class="text-center">
                    <p>Wed</p>
                    <i class="fas fa-cloud-rain text-xl my-2"></i>
                    <p>21°</p>
                </div>
                <div class="text-center">
                    <p>Thu</p>
                    <i class="fas fa-cloud text-xl my-2"></i>
                    <p>23°</p>
                </div>
                <div class="text-center">
                    <p>Fri</p>
                    <i class="fas fa-sun text-xl my-2"></i>
                    <p>27°</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Replace with your OpenWeatherMap API key
        const API_KEY = "1fb33a02bb61de9b16f2b552f5aa10f1";

        async function getWeatherData(city = 'New York') {
            try {
                const response = await fetch(
                    `https://api.openweathermap.org/data/2.5/weather?q=${city}&units=metric&appid=${API_KEY}`
                );

                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                return await response.json();
            } catch (error) {
                console.error('Error fetching weather data:', error);
                return null;
            }
        }

        function updateDateTime() {
            const now = new Date();
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            document.getElementById('date').textContent = now.toLocaleDateString('en-US', options);

            let hours = now.getHours();
            const ampm = hours >= 12 ? 'PM' : 'AM';
            hours = hours % 12;
            hours = hours ? hours : 12;
            const minutes = now.getMinutes().toString().padStart(2, '0');
            document.getElementById('time').textContent = `${hours}:${minutes} ${ampm}`;
        }

        async function fetchWeatherData(city = 'New York') {
            const data = await getWeatherData(city);
            if (!data) return;

            document.getElementById('location').textContent = `${data.name}, ${data.sys.country}`;
            document.getElementById('temp').textContent = Math.round(data.main.temp);
            document.getElementById('condition').textContent = data.weather[0].main;
            document.getElementById('wind').textContent = `${Math.round(data.wind.speed * 3.6)} km/h`;
            document.getElementById('humidity').textContent = `${data.main.humidity}%`;
            document.getElementById('pressure').textContent = `${data.main.pressure} hPa`;

            const iconElement = document.getElementById('weather-icon');
            const weatherId = data.weather[0].id;

            if (weatherId >= 200 && weatherId < 300) {
                iconElement.innerHTML = '<i class="fas fa-bolt"></i>';
            } else if (weatherId >= 300 && weatherId < 600) {
                iconElement.innerHTML = '<i class="fas fa-cloud-rain"></i>';
            } else if (weatherId >= 600 && weatherId < 700) {
                iconElement.innerHTML = '<i class="fas fa-snowflake"></i>';
            } else if (weatherId >= 700 && weatherId < 800) {
                iconElement.innerHTML = '<i class="fas fa-smog"></i>';
            } else if (weatherId === 800) {
                iconElement.innerHTML = '<i class="fas fa-sun"></i>';
            } else if (weatherId > 800) {
                iconElement.innerHTML = '<i class="fas fa-cloud"></i>';
            }
        }

        // Initial load
        updateDateTime();
        fetchWeatherData();

        // Update time every minute
        setInterval(updateDateTime, 60000);

        // Refresh weather every 30 minutes
        setInterval(fetchWeatherData, 1800000);

        // Search button click
        document.getElementById('search-btn').addEventListener('click', () => {
            const city = document.getElementById('city-input').value.trim();
            if (city) {
                fetchWeatherData(city);
            }
        });

        // Enter key search
        document.getElementById('city-input').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                const city = document.getElementById('city-input').value.trim();
                if (city) {
                    fetchWeatherData(city);
                }
            }
        });
    </script>
</body>
</html>
